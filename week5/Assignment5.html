<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assignment 5</title>

    <!-- Set (CSS) style: -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <style>
        .page-wrap {
            text-align: left;
            width: 1200px;
            margin: 0 auto;
        }
        body {
            text-align: center;
            font-family: 'Montserrat', sans-serif;
        }
        svg {
            border: 1px solid grey;
        }

        #barplot {
            border:1px solid grey;
        }
    </style>


    <!-- D3 & JS -->
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="stacked_bars.js"></script>
    <script src="time_profile.js"></script>

    <script>
        d3.select(window).on('load', init);

        function init() {
            var year_category;
            var time_of_day;
            d3.json("sf_crime.geojson", function (data) {
                year_category = data.features.map(function (t) {
                    var p = t.properties;
                    return {year: +p["Dates"].slice(0,4),
                            category: p["Category"]};
                });
                //stacked_bars(year_category);

                time_of_day = data.features.map(function (t) {
                    var p = t.properties;
                    return +p["Dates"].slice(11, 13); // hour, when crime happened
                });
                time_profile(time_of_day);
            });

        }
    </script>
</head>
<body>

<h2>
    Assignment 5
    <br>
    by Johannes Jacob, Tobias Ludwig and Mona Timmermann
</h2>

<div class="page-wrap">
    <h3>(Visualisierungs-) Ideen / Fragen / Hinweise /...</h3>
    <ol>
        <li>Hat sich die Art der Crimes geändert über die Jahre (Interaktivität)?-> Map der Crimes mit unterschiedlichen Farben je nach Art?
            <a href="https://www.kaggle.com/mircat/violent-crime-mapping">(vgl.)</a></li>
        <li>Stacked Bar plot x=Years, y=verschiedene Crimes</li>
        <li>Welche Areas sind besonders geprägt? Evtl. Detailanalyse Golden Gate Bridge etc.</li>
        <li>Bei Maps könnte ein Problem mit Overlapping der Farben entstehen: siehe Kaggle Kernel  <a href="https://www.kaggle.com/mircat/violent-crime-mapping">hier</a></li>

    </ol>

    <h3>Research Questions</h3>

    <h3>Time profile</h3>
    <svg style="width:800px; height:400px" id="time_profile"></svg>


    <h3>Crime categories over the years</h3>
    <svg style="width:800px; height:500px" id="barplot"></svg>


</div>

</body>
</html>