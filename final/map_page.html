<html lang="en">
<head>
    <meta charset="UTF-8">

    <!-- Title: -->
    <title>Terrorist Attacks in Europe</title>

    <!-- Import CSS style -->
    <link rel="stylesheet" href="structure.css">

    <!-- Shortcut icon in browser tab -->
    <link rel="shortcut icon" href="terrorist-thug.ico"/>

    <!--Font-->
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">

    <!-- Leaflet CSS and Javascript file -->
    <!-- Check out http://leafletjs.com/examples/quick-start/ for an introduction on using leaflet: -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"
          integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
          crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"
            integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log=="
            crossorigin=""></script>

    <!-- D3 & JS & JQUERY-->
    <script src="https://d3js.org/d3.v4.min.js"></script>
    
    <script src="map.js"></script>

    <!-- Map plot & Infos boxes -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="slider.js"></script>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">
    <script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>

    <!-- JS -->
    <script>
        d3.select(window).on('load', init);

        // Global: data, map
        var DATA = [];
        var MAP;

        function init() {
            d3.csv("data/gtd_europe.csv", function (mydata) {
                mydata.forEach(function (d) {
                    // the + sign converts numeric string to number:
                    d.eventid = +d.eventid;
                    d.iyear = +d.iyear;
                    d.imonth = +d.imonth;
                    d.iday = +d.iday;
                    d.latitude = +d.latitude;
                    d.longitude = +d.longitude;
                    d.success = +d.success;
                    d.nkill = +d.nkill;
                    d.nkillter = +d.nkillter;
                    d.related = +d.related;
                });
                DATA = mydata;
                // Callback
                drawMap();
                drawPoints();
            });
        }
        
    </script>
</head>

<body>

<!-- Container (containing the whole visualisation) -->
<div id="container">

    <!-- TITLE: -->
    <div id="headline"><h1>Terror in Europe</h1></div>

    <!-- FILTERS: -->
    <div id="filters">
        <h3>Filter</h3>
        <label for="success_filter">Attack succeeded:</label>
        <select id="success_filter" onchange="crimeCATS(this)">
            <option value="1" selected>Yes</option>
            <option value="0">No</option>
        </select>
    </div>

    <!-- INFOBOX: -->
    <div id="infobox">
        <h3>Infobox</h3>
    </div>

    <!-- MAP: -->
    <div id="mapid" height="180px"></div>

    <!-- TIME SLIDER: -->
    <div id="slider">
        <div id="slider-range" style = "margin-top:5%;margin-left:5%;margin-right:5%;"></div>
    </div>

</div>

</body>

</html>
