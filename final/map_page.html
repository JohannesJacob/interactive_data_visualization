<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Terrorist Attacks in Europe</title>

    <!-- Set (CSS) style: -->
    <link rel="shortcut icon" href="terrorist-thug.ico" />
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"
          integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
          crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"
            integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log=="
            crossorigin=""></script>

    <!-- D3 & JS -->
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="map.js"></script>
    
    <!-- map plot & infos boxes -->
    <link rel="stylesheet" href="structure.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">
    <script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>

    <script>
        d3.select(window).on('load', init);
        
        var data = [];

        function init() {
            d3.csv("data/gtd_europe.csv", function (mydata) {
                mydata.forEach(function (d) {
                        d.eventid = +d.eventid;
                        d.iyear = +d.iyear;
                        d.imonth = +d.imonth;
                        d.iday = +d.iday;
                        d.latitude = +d.latitude;
                        d.longitude = +d.longitude;
                        d.success = +d.success;
                        d.nkill = +d.nkill;
                        d.nkillter = +d.nkillter;
                        d.related = +d.related;
                        //the + sign converts numeric string to number
                    });
                data = mydata;
                // Callback
                var map = drawMap();
                drawPoints(map);
            });
        }
    </script>
</head>
<body>
    <div id="container">
        <div id="headline"><h1>Terror in Europe</h1></div>
        <div id="filters">
        <h3>Filter</h3>
        <label for="success_filter">Attack succeeded:</label>
        <select id="success_filter" onchange="crimeCATS(this)">
            <option value="1" selected>Yes</option>
            <option value="0">No</option>
        </select>
        </div>
      <div id="infobox">
          <h3>Infobox</h3>
      </div>
      <div id="map" height="180px">

      </div>
      <div id="slider">
      </div>
    </div>
</body>
</html>