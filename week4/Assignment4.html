<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Show of Hands</title>

    <!-- Set (CSS) style: -->
    <style>
        svg {
            border: 1px solid grey;
        }

        .axis {
            font-size: 80%;
            font-weight: bold;
        }

        .axis text {
            fill: black;
        }

    </style>



    <!-- D3 & JS -->
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="two_panel.js"></script>

    <script>
        d3.select(window).on('load', init);

        var handData = []; // store the hand data globally, we need to have access always when we request a new draw
        var xVar = 0; // index of data column to be plottet on the x-axis
        var yVar = 1; // index of data column to be plottet on the y-axis

        function init() {
            // SCATTER PLOT (PCA):
            d3.text("hands_pca.csv",
                // transform numeric strings into numerics:
                function (text) {
                    var data = d3.csvParseRows(text).map(function (row, id) {
                        var coords = row.map(function (t) { return +t; }); // convert list of strings to list of numbers
                        // adding the row index as an id is needed for accessing the corresponding hand data when clicked
                        return {id: id, coords: coords};
                    });
                    // call Function to draw the points in the left panel:
                    drawPoints(data);
                });


            // HANDS PLOT:
            d3.text("hands.csv",
                function (text) {
                    handData = d3.csvParseRows(text).map(function (row) {
                        var xyValues = row.map(function (value) {
                            return +value;
                        });
                        return d3.zip(xyValues.slice(0,  56),
                                      xyValues.slice(56, 112));
                    });
                    // call Function to draw the hand in the right panel
                    drawHand(0); // first id is selected first
                });
        }
    </script>


</head>


<body>

<h1 style="color:darkblue">Assignment 4: Show of Hands </h1>
<h2 style="color:darkblue">Tobias Ludwig, Johannes Jacob, Mona Timmermann</h2>
<br/>

<h2>Introduction</h2>

<h2>Method</h2>
<!-- Interactivity: Choose a data point (initially hand with ID=0 will be selected): -->

<!-- LEAVE LOWER PART (IN ITALICS) AT BOTTOM -->


<p>
    <i>
    Choose a data point in the PCA-Panel (by clicking on it). <br/>
    The selected ID is: <span id="id_value">0</span>
    </i>
<p>

<!-- Set up two svg panels that are displayed next to each other (vertically or horizontally responsively)
One will show the hand, the other the pca-points -->
<div style="display: inline-block">
    <svg width="600" height="600" id="points">
        <text x="300" y="25" font-weight="bold">PCA-Results</text>
    </svg>
    <svg width="600" height="600" id="hand">
        <text x="300" y="25" font-weight="bold">Selected Hand</text>
    </svg>

    </svg>
</div>


<h2>Results</h2>

<h3>Outliers</h3>
    <p id="outlierPar">
        The outliers...
    </p>

    <script>
        d3.select("#outlierPar")
            .on("mousemove", function (d) {
                d3.selectAll(".outlier")
                    .attr("fill", "red");
            })
            .on("mouseout", function (d) {
                d3.selectAll(".outlier")
                    .attr("fill", "lightblue");
            });
    </script>

<h2>Conclusion</h2>



</body>
</html>
